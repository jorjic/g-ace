define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(a,b){"use strict";var c=a("./lib/oop"),d=a("./lib/event_emitter").EventEmitter,e=a("./lib/lang"),f=a("./range").Range,g=a("./anchor").Anchor,h=a("./keyboard/hash_handler").HashHandler,i=a("./tokenizer").Tokenizer,j=f.comparePoints,k=function(){this.snippetMap={},this.snippetNameMap={}};(function(){c.implement(this,d),this.getTokenizer=function(){function a(a,b,c){return a=a.substr(1),/^\d+$/.test(a)&&!c.inFormatString?[{tabstopId:parseInt(a,10)}]:[{text:a}]}function b(a){return"(?:[^\\\\"+a+"]|\\\\.)"}return k.$tokenizer=new i({start:[{regex:/:/,onMatch:function(a,b,c){return c.length&&c[0].expectIf?(c[0].expectIf=!1,c[0].elseBranch=c[0],[c[0]]):":"}},{regex:/\\./,onMatch:function(a,b,c){var d=a[1];return"}"==d&&c.length?a=d:-1!="`$\\".indexOf(d)?a=d:c.inFormatString&&("n"==d?a="\n":"t"==d?a="\n":-1!="ulULE".indexOf(d)&&(a={changeCase:d,local:d>"a"})),[a]}},{regex:/}/,onMatch:function(a,b,c){return[c.length?c.shift():a]}},{regex:/\$(?:\d+|\w+)/,onMatch:a},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(b,c,d){var e=a(b.substr(1),c,d);return d.unshift(e[0]),e},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+b("\\|")+"*\\|",onMatch:function(a,b,c){c[0].choices=a.slice(1,-1).split(",")},next:"start"},{regex:"/("+b("/")+"+)/(?:("+b("/")+"*)/)(\\w*):?",onMatch:function(a,b,c){var d=c[0];return d.fmtString=a,a=this.splitRegex.exec(a),d.guard=a[1],d.fmt=a[2],d.flag=a[3],""},next:"start"},{regex:"`"+b("`")+"*`",onMatch:function(a,b,c){return c[0].code=a.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(a,b,c){c[0]&&(c[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+b("/")+"+)/",token:"regex"},{regex:"",onMatch:function(a,b,c){c.inFormatString=!0},next:"start"}]}),k.prototype.getTokenizer=function(){return k.$tokenizer},k.$tokenizer},this.tokenizeTmSnippet=function(a,b){return this.getTokenizer().getLineTokens(a,b).tokens.map(function(a){return a.value||a})},this.$getDefaultValue=function(a,b){if(/^[A-Z]\d+$/.test(b)){var c=b.substr(1);return(this.variables[b[0]+"__"]||{})[c]}if(/^\d+$/.test(b))return(this.variables.__||{})[b];if(b=b.replace(/^TM_/,""),a){var d=a.session;switch(b){case"CURRENT_WORD":var e=d.getWordRange();case"SELECTION":case"SELECTED_TEXT":return d.getTextRange(e);case"CURRENT_LINE":return d.getLine(a.getCursorPosition().row);case"PREV_LINE":return d.getLine(a.getCursorPosition().row-1);case"LINE_INDEX":return a.getCursorPosition().column;case"LINE_NUMBER":return a.getCursorPosition().row+1;case"SOFT_TABS":return d.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return d.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(a,b){return this.variables.hasOwnProperty(b)?this.variables[b](a,b)||"":this.$getDefaultValue(a,b)||""},this.tmStrFormat=function(a,b,c){var d=b.flag||"",e=b.guard;e=new RegExp(e,d.replace(/[^gi]/,""));var f=this.tokenizeTmSnippet(b.fmt,"formatString"),g=this,h=a.replace(e,function(){g.variables.__=arguments;for(var a=g.resolveVariables(f,c),b="E",d=0;d<a.length;d++){var e=a[d];if("object"==typeof e)if(a[d]="",e.changeCase&&e.local){var h=a[d+1];h&&"string"==typeof h&&(a[d]="u"==e.changeCase?h[0].toUpperCase():h[0].toLowerCase(),a[d+1]=h.substr(1))}else e.changeCase&&(b=e.changeCase);else"U"==b?a[d]=e.toUpperCase():"L"==b&&(a[d]=e.toLowerCase())}return a.join("")});return this.variables.__=null,h},this.resolveVariables=function(a,b){function c(b){var c=a.indexOf(b,e+1);-1!=c&&(e=c)}for(var d=[],e=0;e<a.length;e++){var f=a[e];if("string"==typeof f)d.push(f);else{if("object"!=typeof f)continue;if(f.skip)c(f);else{if(f.processed<e)continue;if(f.text){var g=this.getVariableValue(b,f.text);g&&f.fmtString&&(g=this.tmStrFormat(g,f)),f.processed=e,null==f.expectIf?g&&(d.push(g),c(f)):g?f.skip=f.elseBranch:c(f)}else null!=f.tabstopId?d.push(f):null!=f.changeCase&&d.push(f)}}}return d},this.insertSnippetForSelection=function(a,b){function c(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];if("object"==typeof d){if(j[d.tabstopId])continue;var e=a.lastIndexOf(d,c-1);d=b[e]||{tabstopId:d.tabstopId}}b[c]=d}return b}var d=a.getCursorPosition(),e=a.session.getLine(d.row),f=a.session.getTabString(),g=e.match(/^\s*/)[0];d.column<g.length&&(g=g.slice(0,d.column));var h=this.tokenizeTmSnippet(b);h=this.resolveVariables(h,a),h=h.map(function(a){return"\n"==a?a+g:"string"==typeof a?a.replace(/\t/g,f):a});var i=[];h.forEach(function(a,b){if("object"==typeof a){var c=a.tabstopId,d=i[c];if(d||(d=i[c]=[],d.index=c,d.value=""),-1===d.indexOf(a)){d.push(a);var e=h.indexOf(a,b+1);if(-1!==e){var f=h.slice(b+1,e),g=f.some(function(a){return"object"==typeof a});g&&!d.value?d.value=f:!f.length||d.value&&"string"==typeof d.value||(d.value=f.join(""))}}}}),i.forEach(function(a){a.length=0});for(var j={},k=0;k<h.length;k++){var m=h[k];if("object"==typeof m){var n=m.tabstopId,o=h.indexOf(m,k+1);if(j[n])j[n]===m&&(j[n]=null);else{var p=i[n],q="string"==typeof p.value?[p.value]:c(p.value);q.unshift(k+1,Math.max(0,o-k)),q.push(m),j[n]=m,h.splice.apply(h,q),-1===p.indexOf(m)&&p.push(m)}}}var r=0,s=0,t="";h.forEach(function(a){"string"==typeof a?("\n"===a[0]?(s=a.length-1,r++):s+=a.length,t+=a):a.start?a.end={row:r,column:s}:a.start={row:r,column:s}});var u=a.getSelectionRange(),v=a.session.replace(u,t),w=new l(a),x=a.inVirtualSelectionMode&&a.selection.index;w.addTabstops(i,u.start,v,x)},this.insertSnippet=function(a,b){var c=this;return a.inVirtualSelectionMode?c.insertSnippetForSelection(a,b):(a.forEachSelection(function(){c.insertSnippetForSelection(a,b)},null,{keepOrder:!0}),void(a.tabstopManager&&a.tabstopManager.tabNext()))},this.$getScope=function(a){var b=a.session.$mode.$id||"";if(b=b.split("/").pop(),"html"===b||"php"===b){"php"!==b||a.session.$mode.inlinePhp||(b="html");var c=a.getCursorPosition(),d=a.session.getState(c.row);"object"==typeof d&&(d=d[0]),d.substring&&("js-"==d.substring(0,3)?b="javascript":"css-"==d.substring(0,4)?b="css":"php-"==d.substring(0,4)&&(b="php"))}return b},this.getActiveScopes=function(a){var b=this.$getScope(a),c=[b],d=this.snippetMap;return d[b]&&d[b].includeScopes&&c.push.apply(c,d[b].includeScopes),c.push("_"),c},this.expandWithTab=function(a,b){var c=this,d=a.forEachSelection(function(){return c.expandSnippetForSelection(a,b)},null,{keepOrder:!0});return d&&a.tabstopManager&&a.tabstopManager.tabNext(),d},this.expandSnippetForSelection=function(a,b){var c,d=a.getCursorPosition(),e=a.session.getLine(d.row),f=e.substring(0,d.column),g=e.substr(d.column),h=this.snippetMap;return this.getActiveScopes(a).some(function(a){var b=h[a];return b&&(c=this.findMatchingSnippet(b,f,g)),!!c},this),c?b&&b.dryRun?!0:(a.session.doc.removeInLine(d.row,d.column-c.replaceBefore.length,d.column+c.replaceAfter.length),this.variables.M__=c.matchBefore,this.variables.T__=c.matchAfter,this.insertSnippetForSelection(a,c.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(a,b,c){for(var d=a.length;d--;){var e=a[d];if(!(e.startRe&&!e.startRe.test(b)||e.endRe&&!e.endRe.test(c)||!e.startRe&&!e.endRe))return e.matchBefore=e.startRe?e.startRe.exec(b):[""],e.matchAfter=e.endRe?e.endRe.exec(c):[""],e.replaceBefore=e.triggerRe?e.triggerRe.exec(b)[0]:"",e.replaceAfter=e.endTriggerRe?e.endTriggerRe.exec(c)[0]:"",e}},this.snippetMap={},this.snippetNameMap={},this.register=function(a,b){function c(a){return a&&!/^\^?\(.*\)\$?$|^\\b$/.test(a)&&(a="(?:"+a+")"),a||""}function d(a,b,d){return a=c(a),b=c(b),d?(a=b+a,a&&"$"!=a[a.length-1]&&(a+="$")):(a+=b,a&&"^"!=a[0]&&(a="^"+a)),new RegExp(a)}function f(a){a.scope||(a.scope=b||"_"),b=a.scope,g[b]||(g[b]=[],h[b]={});var c=h[b];if(a.name){var f=c[a.name];f&&i.unregister(f),c[a.name]=a}g[b].push(a),a.tabTrigger&&!a.trigger&&(!a.guard&&/^\w/.test(a.tabTrigger)&&(a.guard="\\b"),a.trigger=e.escapeRegExp(a.tabTrigger)),a.startRe=d(a.trigger,a.guard,!0),a.triggerRe=new RegExp(a.trigger,"",!0),a.endRe=d(a.endTrigger,a.endGuard,!0),a.endTriggerRe=new RegExp(a.endTrigger,"",!0)}var g=this.snippetMap,h=this.snippetNameMap,i=this;a||(a=[]),a&&a.content?f(a):Array.isArray(a)&&a.forEach(f),this._signal("registerSnippets",{scope:b})},this.unregister=function(a,b){function c(a){var c=e[a.scope||b];if(c&&c[a.name]){delete c[a.name];var f=d[a.scope||b],g=f&&f.indexOf(a);g>=0&&f.splice(g,1)}}var d=this.snippetMap,e=this.snippetNameMap;a.content?c(a):Array.isArray(a)&&a.forEach(c)},this.parseSnippetFile=function(a){a=a.replace(/\r/g,"");for(var b,c=[],d={},e=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;b=e.exec(a);){if(b[1])try{d=JSON.parse(b[1]),c.push(d)}catch(f){}if(b[4])d.content=b[4].replace(/^\t/gm,""),c.push(d),d={};else{var g=b[2],h=b[3];if("regex"==g){var i=/\/((?:[^\/\\]|\\.)*)|$/g;d.guard=i.exec(h)[1],d.trigger=i.exec(h)[1],d.endTrigger=i.exec(h)[1],d.endGuard=i.exec(h)[1]}else"snippet"==g?(d.tabTrigger=h.match(/^\S*/)[0],d.name||(d.name=h)):d[g]=h}}return c},this.getSnippetByName=function(a,b){var c,d=this.snippetNameMap;return this.getActiveScopes(b).some(function(b){var e=d[b];return e&&(c=e[a]),!!c},this),c}}).call(k.prototype);var l=function(a){return a.tabstopManager?a.tabstopManager:(a.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=e.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),void this.attach(a))};(function(){this.attach=function(a){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=a,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(a){var b=a.data.range,c="r"==a.data.action[0],d=b.start,e=b.end,f=d.row,g=e.row,h=g-f,i=e.column-d.column;if(c&&(h=-h,i=-i),!this.$inChange&&c){var k=this.selectedTabstop,l=k&&!k.some(function(a){return j(a.start,d)<=0&&j(a.end,e)>=0});if(l)return this.detach()}for(var m=this.ranges,n=0;n<m.length;n++){var o=m[n];o.end.row<d.row||(c&&j(d,o.start)<0&&j(e,o.end)>0?(this.removeRange(o),n--):(o.start.row==f&&o.start.column>d.column&&(o.start.column+=i),o.end.row==f&&o.end.column>=d.column&&(o.end.column+=i),o.start.row>=f&&(o.start.row+=h),o.end.row>=f&&(o.end.row+=h),j(o.start,o.end)>0&&this.removeRange(o)))}m.length||this.detach()},this.updateLinkedFields=function(){var a=this.selectedTabstop;if(a&&a.hasLinkedRanges){this.$inChange=!0;for(var c=this.editor.session,d=c.getTextRange(a.firstNonLinked),e=a.length;e--;){var f=a[e];if(f.linked){var g=b.snippetManager.tmStrFormat(d,f.original);c.replace(f,g)}}this.$inChange=!1}},this.onAfterExec=function(a){a.command&&!a.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var a=this.editor.selection.lead,b=this.editor.selection.anchor,c=this.editor.selection.isEmpty(),d=this.ranges.length;d--;)if(!this.ranges[d].linked){var e=this.ranges[d].contains(a.row,a.column),f=c||this.ranges[d].contains(b.row,b.column);if(e&&f)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(a){var b=this.tabstops.length,c=this.index+(a||1);c=Math.min(Math.max(c,1),b),c==b&&(c=0),this.selectTabstop(c),0===c&&this.detach()},this.selectTabstop=function(a){this.$openTabstops=null;var b=this.tabstops[this.index];if(b&&this.addTabstopMarkers(b),this.index=a,b=this.tabstops[this.index],b&&b.length){if(this.selectedTabstop=b,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(b.firstNonLinked);else{var c=this.editor.multiSelect;c.toSingleRange(b.firstNonLinked.clone());for(var d=b.length;d--;)b.hasLinkedRanges&&b[d].linked||c.addRange(b[d].clone(),!0);c.ranges[0]&&c.addRange(c.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(a,b,c){if(this.$openTabstops||(this.$openTabstops=[]),!a[0]){var d=f.fromPoints(c,c);o(d.start,b),o(d.end,b),a[0]=[d],a[0].index=0}var e=this.index,g=[e+1,0],h=this.ranges;a.forEach(function(a,c){for(var d=this.$openTabstops[c]||a,e=a.length;e--;){var i=a[e],j=f.fromPoints(i.start,i.end||i.start);n(j.start,b),n(j.end,b),j.original=i,j.tabstop=d,h.push(j),d!=a?d.unshift(j):d[e]=j,i.fmtString?(j.linked=!0,d.hasLinkedRanges=!0):d.firstNonLinked||(d.firstNonLinked=j)}d.firstNonLinked||(d.hasLinkedRanges=!1),d===a&&(g.push(d),this.$openTabstops[c]=d),this.addTabstopMarkers(d)},this),g.length>2&&(this.tabstops.length&&g.push(g.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,g))},this.addTabstopMarkers=function(a){var b=this.editor.session;a.forEach(function(a){a.markerId||(a.markerId=b.addMarker(a,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(a){var b=this.editor.session;a.forEach(function(a){b.removeMarker(a.markerId),a.markerId=null})},this.removeRange=function(a){var b=a.tabstop.indexOf(a);a.tabstop.splice(b,1),b=this.ranges.indexOf(a),this.ranges.splice(b,1),this.editor.session.removeMarker(a.markerId),a.tabstop.length||(b=this.tabstops.indexOf(a.tabstop),-1!=b&&this.tabstops.splice(b,1),this.tabstops.length||this.detach())},this.keyboardHandler=new h,this.keyboardHandler.bindKeys({Tab:function(a){b.snippetManager&&b.snippetManager.expandWithTab(a)||a.tabstopManager.tabNext(1)},"Shift-Tab":function(a){a.tabstopManager.tabNext(-1)},Esc:function(a){a.tabstopManager.detach()},Return:function(){return!1}})}).call(l.prototype);var m={};m.onChange=g.prototype.onChange,m.setPosition=function(a,b){this.pos.row=a,this.pos.column=b},m.update=function(a,b,c){this.$insertRight=c,this.pos=a,this.onChange(b)};var n=function(a,b){0==a.row&&(a.column+=b.column),a.row+=b.row},o=function(a,b){a.row==b.row&&(a.column-=b.column),a.row-=b.row};a("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),b.snippetManager=new k;var p=a("./editor").Editor;(function(){this.insertSnippet=function(a,c){return b.snippetManager.insertSnippet(this,a,c)},this.expandSnippet=function(a){return b.snippetManager.expandWithTab(this,a)}}).call(p.prototype)}),define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","resources","resources","range","tabStops","resources","utils","actions","ace/config","ace/config"],function(a,b){"use strict";function c(){}var d,e,f=a("ace/keyboard/hash_handler").HashHandler,g=a("ace/editor").Editor,h=a("ace/snippets").snippetManager,i=a("ace/range").Range;c.prototype={setupContext:function(a){this.ace=a,this.indentation=a.session.getTabString(),d||(d=window.emmet),d.require("resources").setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},getSelectionRange:function(){var a=this.ace.getSelectionRange(),b=this.ace.session.doc;return{start:b.positionToIndex(a.start),end:b.positionToIndex(a.end)}},createSelection:function(a,b){var c=this.ace.session.doc;this.ace.selection.setRange({start:c.indexToPosition(a),end:c.indexToPosition(b)})},getCurrentLineRange:function(){var a=this.ace,b=a.getCursorPosition().row,c=a.session.getLine(b).length,d=a.session.doc.positionToIndex({row:b,column:0});return{start:d,end:d+c}},getCaretPos:function(){var a=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(a)},setCaretPos:function(a){var b=this.ace.session.doc.indexToPosition(a);this.ace.selection.moveToPosition(b)},getCurrentLine:function(){var a=this.ace.getCursorPosition().row;return this.ace.session.getLine(a)},replaceContent:function(a,b,c){null==c&&(c=null==b?this.getContent().length:b),null==b&&(b=0);var d=this.ace,e=d.session.doc,f=i.fromPoints(e.indexToPosition(b),e.indexToPosition(c));d.session.remove(f),f.end=f.start,a=this.$updateTabstops(a),h.insertSnippet(d,a)},getContent:function(){return this.ace.getValue()},getSyntax:function(){if(this.$syntax)return this.$syntax;var a=this.ace.session.$modeId.split("/").pop();if("html"==a||"php"==a){var b=this.ace.getCursorPosition(),c=this.ace.session.getState(b.row);"string"!=typeof c&&(c=c[0]),c&&(c=c.split("-"),c.length>1?a=c[0]:"php"==a&&(a="html"))}return a},getProfileName:function(){switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"html":var a=d.require("resources").getVariable("profile");return a||(a=-1!=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)?"xhtml":"html"),a}return"xhtml"},prompt:function(a){return prompt(a)},getSelection:function(){return this.ace.session.getTextRange()},getFilePath:function(){return""},$updateTabstops:function(a){var b=1e3,c=0,e=null,f=d.require("range"),g=d.require("tabStops"),h=d.require("resources").getVocabulary("user"),i={tabstop:function(a){var d=parseInt(a.group,10),h=0===d;h?d=++c:d+=b;var j=a.placeholder;j&&(j=g.processText(j,i));var k="${"+d+(j?":"+j:"")+"}";return h&&(e=f.create(a.start,k)),k},escape:function(a){return"$"==a?"\\$":"\\"==a?"\\\\":a}};return a=g.processText(a,i),h.variables.insert_final_tabstop&&!/\$\{0\}$/.test(a)?a+="${0}":e&&(a=d.require("utils").replaceSubstring(a,"${0}",e)),a}};var j={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},k=new c;b.commands=new f,b.runEmmetCommand=function(a){try{if(k.setupContext(a),"php"==k.getSyntax())return!1;var b=d.require("actions");if("expand_abbreviation_with_tab"==this.action&&!a.selection.isEmpty())return!1;if("wrap_with_abbreviation"==this.action)return setTimeout(function(){b.run("wrap_with_abbreviation",k)},0);var c=a.selection.lead,e=a.session.getTokenAt(c.row,c.column);if(e&&/\btag\b/.test(e.type))return!1;var f=b.run(this.action,k)}catch(g){a._signal("changeStatus","string"==typeof g?g:g.message),console.log(g),f=!1}return f};for(var l in j)b.commands.addCommand({name:"emmet:"+l,action:l,bindKey:j[l],exec:b.runEmmetCommand,multiSelectAction:"forEach"});b.updateCommands=function(a,c){c?a.keyBinding.addKeyboardHandler(b.commands):a.keyBinding.removeKeyboardHandler(b.commands)},b.isSupportedMode=function(a){return a&&/css|less|scss|sass|stylus|html|php|twig|ejs/.test(a)};var m=function(c,d){var f=d;if(f){var g=b.isSupportedMode(f.session.$modeId);c.enableEmmet===!1&&(g=!1),g&&"string"==typeof e&&a("ace/config").loadModule(e,function(){e=null}),b.updateCommands(f,g)}};b.AceEmmetEditor=c,a("ace/config").defineOptions(g.prototype,"editor",{enableEmmet:{set:function(a){this[a?"on":"removeListener"]("changeMode",m),m({enableEmmet:!!a},this)},value:!0}}),b.setCore=function(a){"string"==typeof a?e=a:d=a}}),function(){window.require(["ace/ext/emmet"],function(){})}();
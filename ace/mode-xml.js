define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b){"use strict";var c=a("../lib/oop"),d=a("./text_highlight_rules").TextHighlightRules,e=function(){this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===e&&this.normalizeRules()};(function(){this.embedTagRules=function(a,b,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:b+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(a,b,c){return c.splice(0),this.token}}],this.embedRules(a,b,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(d.prototype),c.inherits(e,d),b.XmlHighlightRules=e}),define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,b){"use strict";function c(a,b){return a.type.lastIndexOf(b+".xml")>-1}var d=a("../../lib/oop"),e=a("../behaviour").Behaviour,f=a("../../token_iterator").TokenIterator,g=(a("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(a,b,d,e,g){if('"'==g||"'"==g){var h=g,i=e.doc.getTextRange(d.getSelectionRange());if(""!==i&&"'"!==i&&'"'!=i&&d.getWrapBehavioursEnabled())return{text:h+i+h,selection:!1};var j=d.getCursorPosition(),k=e.doc.getLine(j.row),l=k.substring(j.column,j.column+1),m=new f(e,j.row,j.column),n=m.getCurrentToken();if(l==h&&(c(n,"attribute-value")||c(n,"string")))return{text:"",selection:[1,1]};if(n||(n=m.stepBackward()),!n)return;for(;c(n,"tag-whitespace")||c(n,"whitespace");)n=m.stepBackward();var o=!l||l.match(/\s/);if(c(n,"attribute-equals")&&(o||">"==l)||c(n,"decl-attribute-equals")&&(o||"?"==l))return{text:h+h,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&('"'==f||"'"==f)){var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h==f)return e.end.column++,e}}),this.add("autoclosing","insertion",function(a,b,d,e,g){if(">"==g){var h=d.getCursorPosition(),i=new f(e,h.row,h.column),j=i.getCurrentToken()||i.stepBackward();if(!j||!(c(j,"tag-name")||c(j,"tag-whitespace")||c(j,"attribute-name")||c(j,"attribute-equals")||c(j,"attribute-value")))return;if(c(j,"reference.attribute-value"))return;if(c(j,"attribute-value")){var k=j.value.charAt(0);if('"'==k||"'"==k){var l=j.value.charAt(j.value.length-1),m=i.getCurrentTokenColumn()+j.value.length;if(m>h.column||m==h.column&&k!=l)return}}for(;!c(j,"tag-name");)j=i.stepBackward();var n=i.getCurrentTokenRow(),o=i.getCurrentTokenColumn();if(c(i.stepBackward(),"end-tag-open"))return;var p=j.value;if(n==h.row&&(p=p.substring(0,h.column-o)),this.voidElements.hasOwnProperty(p.toLowerCase()))return;return{text:"></"+p+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(a,b,c,d,e){if("\n"==e){var g=c.getCursorPosition(),h=d.getLine(g.row),i=new f(d,g.row,g.column),j=i.getCurrentToken();if(j&&-1!==j.type.indexOf("tag-close")){for(;j&&-1===j.type.indexOf("tag-name");)j=i.stepBackward();if(!j)return;var k=j.value,l=i.getCurrentTokenRow();if(j=i.stepBackward(),!j||-1!==j.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[k]){var m=d.getTokenAt(g.row,g.column+1),h=d.getLine(l),n=this.$getIndent(h),o=n+d.getTabString();return m&&"</"===m.value?{text:"\n"+o+"\n"+n,selection:[1,o.length,1,o.length]}:{text:"\n"+o}}}}})});d.inherits(g,e),b.XmlBehaviour=g}),define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(a,b){"use strict";function c(a,b){return a.type.lastIndexOf(b+".xml")>-1}var d=a("../../lib/oop"),e=(a("../../lib/lang"),a("../../range").Range),f=a("./fold_mode").FoldMode,g=a("../../token_iterator").TokenIterator,h=b.FoldMode=function(a,b){f.call(this),this.voidElements=a||{},this.optionalEndTags=d.mixin({},this.voidElements),b&&d.mixin(this.optionalEndTags,b)};d.inherits(h,f);var i=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(a,b,c){var d=this._getFirstTagInLine(a,c);return d?d.closing||!d.tagName&&d.selfClosing?"markbeginend"==b?"end":"":!d.tagName||d.selfClosing||this.voidElements.hasOwnProperty(d.tagName.toLowerCase())?"":this._findEndTagInLine(a,c,d.tagName,d.end.column)?"":"start":""},this._getFirstTagInLine=function(a,b){for(var d=a.getTokens(b),e=new i,f=0;f<d.length;f++){var g=d[f];if(c(g,"tag-open")){if(e.end.column=e.start.column+g.value.length,e.closing=c(g,"end-tag-open"),g=d[++f],!g)return null;for(e.tagName=g.value,e.end.column+=g.value.length,f++;f<d.length;f++)if(g=d[f],e.end.column+=g.value.length,c(g,"tag-close")){e.selfClosing="/>"==g.value;break}return e}if(c(g,"tag-close"))return e.selfClosing="/>"==g.value,e;e.start.column+=g.value.length}return null},this._findEndTagInLine=function(a,b,d,e){for(var f=a.getTokens(b),g=0,h=0;h<f.length;h++){var i=f[h];if(g+=i.value.length,!(e>g)&&c(i,"end-tag-open")&&(i=f[h+1],i&&i.value==d))return!0}return!1},this._readTagForward=function(a){var b=a.getCurrentToken();if(!b)return null;var d=new i;do if(c(b,"tag-open"))d.closing=c(b,"end-tag-open"),d.start.row=a.getCurrentTokenRow(),d.start.column=a.getCurrentTokenColumn();else if(c(b,"tag-name"))d.tagName=b.value;else if(c(b,"tag-close"))return d.selfClosing="/>"==b.value,d.end.row=a.getCurrentTokenRow(),d.end.column=a.getCurrentTokenColumn()+b.value.length,a.stepForward(),d;while(b=a.stepForward());return null},this._readTagBackward=function(a){var b=a.getCurrentToken();if(!b)return null;var d=new i;do{if(c(b,"tag-open"))return d.closing=c(b,"end-tag-open"),d.start.row=a.getCurrentTokenRow(),d.start.column=a.getCurrentTokenColumn(),a.stepBackward(),d;c(b,"tag-name")?d.tagName=b.value:c(b,"tag-close")&&(d.selfClosing="/>"==b.value,d.end.row=a.getCurrentTokenRow(),d.end.column=a.getCurrentTokenColumn()+b.value.length)}while(b=a.stepBackward());return null},this._pop=function(a,b){for(;a.length;){var c=a[a.length-1];if(b&&c.tagName!=b.tagName){if(this.optionalEndTags.hasOwnProperty(c.tagName)){a.pop();continue}return null}return a.pop()}},this.getFoldWidgetRange=function(a,b,c){var d=this._getFirstTagInLine(a,c);if(!d)return null;var f,h=d.closing||d.selfClosing,i=[];if(h)for(var j=new g(a,c,d.end.column),k={row:c,column:d.start.column};f=this._readTagBackward(j);){if(f.selfClosing){if(i.length)continue;return f.start.column+=f.tagName.length+2,f.end.column-=2,e.fromPoints(f.start,f.end)}if(f.closing)i.push(f);else if(this._pop(i,f),0==i.length)return f.start.column+=f.tagName.length+2,e.fromPoints(f.start,k)}else for(var j=new g(a,c,d.start.column),l={row:c,column:d.start.column+d.tagName.length+2};f=this._readTagForward(j);){if(f.selfClosing){if(i.length)continue;return f.start.column+=f.tagName.length+2,f.end.column-=2,e.fromPoints(f.start,f.end)}if(f.closing){if(this._pop(i,f),0==i.length)return e.fromPoints(l,f.start)}else i.push(f)}}}).call(h.prototype)}),define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(a,b){"use strict";var c=a("../lib/oop"),d=a("../lib/lang"),e=a("./text").Mode,f=a("./xml_highlight_rules").XmlHighlightRules,g=a("./behaviour/xml").XmlBehaviour,h=a("./folding/xml").FoldMode,i=function(){this.HighlightRules=f,this.$behaviour=new g,this.foldingRules=new h};c.inherits(i,e),function(){this.voidElements=d.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.$id="ace/mode/xml"}.call(i.prototype),b.Mode=i});
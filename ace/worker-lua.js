"no use strict";!function(a){if("undefined"==typeof a.window||!a.document){a.console=function(){var a=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:a})},a.console.error=a.console.warn=a.console.log=a.console.trace=a.console,a.window=a,a.ace=a,a.onerror=function(a,b,c,d,e){postMessage({type:"error",data:{message:a,file:b,line:c,col:d,stack:e.stack}})},a.normalizeModule=function(b,c){if(-1!==c.indexOf("!")){var d=c.split("!");return a.normalizeModule(b,d[0])+"!"+a.normalizeModule(b,d[1])}if("."==c.charAt(0)){var e=b.split("/").slice(0,-1).join("/");for(c=(e?e+"/":"")+c;-1!==c.indexOf(".")&&f!=c;){var f=c;c=c.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return c},a.require=function(b,c){if(c||(c=b,b=null),!c.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");c=a.normalizeModule(b,c);var d=a.require.modules[c];if(d)return d.initialized||(d.initialized=!0,d.exports=d.factory().exports),d.exports;var e=c.split("/");if(!a.require.tlns)return console.log("unable to load "+c);e[0]=a.require.tlns[e[0]]||e[0];var f=e.join("/")+".js";return a.require.id=c,importScripts(f),a.require(b,c)},a.require.modules={},a.require.tlns={},a.define=function(b,c,d){if(2==arguments.length?(d=c,"string"!=typeof b&&(c=b,b=a.require.id)):1==arguments.length&&(d=b,c=[],b=a.require.id),"function"!=typeof d)return void(a.require.modules[b]={exports:d,initialized:!0});c.length||(c=["require","exports","module"]);var e=function(c){return a.require(b,c)};a.require.modules[b]={exports:{},factory:function(){var a=this,b=d.apply(this,c.map(function(b){switch(b){case"require":return e;case"exports":return a.exports;case"module":return a;default:return e(b)}}));return b&&(a.exports=b),a}}},a.define.amd={},a.initBaseUrls=function(a){require.tlns=a},a.initSender=function(){var b=a.require("ace/lib/event_emitter").EventEmitter,c=a.require("ace/lib/oop"),d=function(){};return function(){c.implement(this,b),this.callback=function(a,b){postMessage({type:"call",id:b,data:a})},this.emit=function(a,b){postMessage({type:"event",name:a,data:b})}}.call(d.prototype),new d};var b=a.main=null,c=a.sender=null;a.onmessage=function(d){var e=d.data;if(e.command){if(!b[e.command])throw new Error("Unknown command:"+e.command);b[e.command].apply(b,e.args)}else if(e.init){initBaseUrls(e.tlns),require("ace/lib/es5-shim"),c=a.sender=initSender();var f=require(e.module)[e.classname];b=a.main=new f(c)}else e.event&&c&&c._signal(e.event,e.data)}}}(this),define("ace/lib/oop",["require","exports","module"],function(a,b){"use strict";b.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},b.mixin=function(a,b){for(var c in b)a[c]=b[c];return a},b.implement=function(a,c){b.mixin(a,c)}}),define("ace/lib/event_emitter",["require","exports","module"],function(a,b){"use strict";var c={},d=function(){this.propagationStopped=!0},e=function(){this.defaultPrevented=!0};c._emit=c._dispatchEvent=function(a,b){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],f=this._defaultHandlers[a];if(c.length||f){"object"==typeof b&&b||(b={}),b.type||(b.type=a),b.stopPropagation||(b.stopPropagation=d),b.preventDefault||(b.preventDefault=e),c=c.slice();for(var g=0;g<c.length&&(c[g](b,this),!b.propagationStopped);g++);return f&&!b.defaultPrevented?f(b,this):void 0}},c._signal=function(a,b){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](b,this)}},c.once=function(a,b){var c=this;b&&this.addEventListener(a,function d(){c.removeEventListener(a,d),b.apply(null,arguments)})},c.setDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var d=c[a],e=c._disabled_[a];e||(c._disabled_[a]=e=[]),e.push(d);var f=e.indexOf(b);-1!=f&&e.splice(f,1)}c[a]=b},c.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var d=c._disabled_[a];if(c[a]==b){{c[a]}d&&this.setDefaultHandler(a,d.pop())}else if(d){var e=d.indexOf(b);-1!=e&&d.splice(e,1)}}},c.on=c.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[a];return d||(d=this._eventRegistry[a]=[]),-1==d.indexOf(b)&&d[c?"unshift":"push"](b),b},c.off=c.removeListener=c.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}},c.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])},b.EventEmitter=c}),define("ace/range",["require","exports","module"],function(a,b){"use strict";var c=function(a,b){return a.row-b.row||a.column-b.column},d=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return 0==this.compare(a,b)},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),1==b?(b=this.compare(d.row,d.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(d.row,d.column),-1==b?-1:1==b?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)},this.intersects=function(a){var b=this.compareRange(a);return-1==b||0==b||1==b},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1},this.insideStart=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)?!1:!0:!1},this.insideEnd=function(a,b){return 0==this.compare(a,b)?this.isStart(a,b)?!1:!0:!1},this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0},this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.clipRows=function(a,b){if(this.end.row>b)var c={row:b+1,column:0};else if(this.end.row<a)var c={row:a,column:0};if(this.start.row>b)var e={row:b+1,column:0};else if(this.start.row<a)var e={row:a,column:0};return d.fromPoints(e||this.start,c||this.end)},this.extend=function(a,b){var c=this.compare(a,b);if(0==c)return this;if(-1==c)var e={row:a,column:b};else var f={row:a,column:b};return d.fromPoints(e||this.start,f||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return d.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new d(this.start.row,0,this.end.row,0)},this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new d(b.row,b.column,c.row,c.column)},this.moveBy=function(a,b){this.start.row+=a,this.start.column+=b,this.end.row+=a,this.end.column+=b}}).call(d.prototype),d.fromPoints=function(a,b){return new d(a.row,a.column,b.row,b.column)},d.comparePoints=c,d.comparePoints=function(a,b){return a.row-b.row||a.column-b.column},b.Range=d}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b){"use strict";var c=a("./lib/oop"),d=a("./lib/event_emitter").EventEmitter,e=b.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this),this.attach(a),"undefined"==typeof c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){c.implement(this,d),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(a){var b=a.data,c=b.range;if((c.start.row!=c.end.row||c.start.row==this.row)&&!(c.start.row>this.row||c.start.row==this.row&&c.start.column>this.column)){var d=this.row,e=this.column,f=c.start,g=c.end;"insertText"===b.action?f.row===d&&f.column<=e?f.column===e&&this.$insertRight||(f.row===g.row?e+=g.column-f.column:(e-=f.column,d+=g.row-f.row)):f.row!==g.row&&f.row<d&&(d+=g.row-f.row):"insertLines"===b.action?f.row===d&&0===e&&this.$insertRight||f.row<=d&&(d+=g.row-f.row):"removeText"===b.action?f.row===d&&f.column<e?e=g.column>=e?f.column:Math.max(0,e-(g.column-f.column)):f.row!==g.row&&f.row<d?(g.row===d&&(e=Math.max(0,e-g.column)+f.column),d-=g.row-f.row):g.row===d&&(d-=g.row-f.row,e=Math.max(0,e-g.column)+f.column):"removeLines"==b.action&&f.row<=d&&(g.row<=d?d-=g.row-f.row:(d=f.row,e=0)),this.setPosition(d,e,!0)}},this.setPosition=function(a,b,c){var d;if(d=c?{row:a,column:b}:this.$clipPositionToDocument(a,b),this.row!=d.row||this.column!=d.column){var e={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:e,value:d})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):0>a?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),0>b&&(c.column=0),c}}).call(e.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b){"use strict";var c=a("./lib/oop"),d=a("./lib/event_emitter").EventEmitter,e=a("./range").Range,f=a("./anchor").Anchor,g=function(a){this.$lines=[],0===a.length?this.$lines=[""]:Array.isArray(a)?this._insertLines(0,a):this.insert({row:0,column:0},a)};(function(){c.implement(this,d),this.setValue=function(a){var b=this.getLength();this.remove(new e(0,0,b,this.getLine(b-1).length)),this.insert({row:0,column:0},a)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,b){return new f(this,a,b)},this.$split=0==="aaa".split(/a/).length?function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,b){return this.$lines.slice(a,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){if(a.start.row==a.end.row)return this.getLine(a.start.row).substring(a.start.column,a.end.column);var b=this.getLines(a.start.row,a.end.row);b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;return a.end.row-a.start.row==c&&(b[c]=b[c].substring(0,a.end.column)),b.join(this.getNewLineCharacter())},this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):a.row<0&&(a.row=0),a},this.insert=function(a,b){if(!b||0===b.length)return a;a=this.$clipPosition(a),this.getLength()<=1&&this.$detectNewLine(b);var c=this.$split(b),d=c.splice(0,1)[0],e=0==c.length?null:c.splice(c.length-1,1)[0];return a=this.insertInLine(a,d),null!==e&&(a=this.insertNewLine(a),a=this._insertLines(a.row,c),a=this.insertInLine(a,e||"")),a},this.insertLines=function(a,b){return a>=this.getLength()?this.insert({row:a,column:0},"\n"+b.join("\n")):this._insertLines(Math.max(a,0),b)},this._insertLines=function(a,b){if(0==b.length)return{row:a,column:0};for(;b.length>61440;){var c=this._insertLines(a,b.slice(0,61440));b=b.slice(61440),a=c.row}var d=[a,0];d.push.apply(d,b),this.$lines.splice.apply(this.$lines,d);var f=new e(a,0,a+b.length,0),g={action:"insertLines",range:f,lines:b};return this._signal("change",{data:g}),f.end},this.insertNewLine=function(a){a=this.$clipPosition(a);var b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column),this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));var c={row:a.row+1,column:0},d={action:"insertText",range:e.fromPoints(a,c),text:this.getNewLineCharacter()};return this._signal("change",{data:d}),c},this.insertInLine=function(a,b){if(0==b.length)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=c.substring(0,a.column)+b+c.substring(a.column);var d={row:a.row,column:a.column+b.length},f={action:"insertText",range:e.fromPoints(a,d),text:b};return this._signal("change",{data:f}),d},this.remove=function(a){if(a instanceof e||(a=e.fromPoints(a.start,a.end)),a.start=this.$clipPosition(a.start),a.end=this.$clipPosition(a.end),a.isEmpty())return a.start;var b=a.start.row,c=a.end.row;if(a.isMultiLine()){var d=0==a.start.column?b:b+1,f=c-1;a.end.column>0&&this.removeInLine(c,0,a.end.column),f>=d&&this._removeLines(d,f),d!=b&&(this.removeInLine(b,a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start},this.removeInLine=function(a,b,c){if(b!=c){var d=new e(a,b,a,c),f=this.getLine(a),g=f.substring(b,c),h=f.substring(0,b)+f.substring(c,f.length);this.$lines.splice(a,1,h);var i={action:"removeText",range:d,text:g};return this._signal("change",{data:i}),d.start}},this.removeLines=function(a,b){return 0>a||b>=this.getLength()?this.remove(new e(a,0,b+1,0)):this._removeLines(a,b)},this._removeLines=function(a,b){var c=new e(a,0,b+1,0),d=this.$lines.splice(a,b-a+1),f={action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d};return this._signal("change",{data:f}),d},this.removeNewLine=function(a){var b=this.getLine(a),c=this.getLine(a+1),d=new e(a,b.length,a+1,0),f=b+c;this.$lines.splice(a,2,f);var g={action:"removeText",range:d,text:this.getNewLineCharacter()};this._signal("change",{data:g})},this.replace=function(a,b){if(a instanceof e||(a=e.fromPoints(a.start,a.end)),0==b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;if(this.remove(a),b)var c=this.insert(a.start,b);else c=a.start;return c},this.applyDeltas=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=e.fromPoints(c.range.start,c.range.end);"insertLines"==c.action?this.insertLines(d.start.row,c.lines):"insertText"==c.action?this.insert(d.start,c.text):"removeLines"==c.action?this._removeLines(d.start.row,d.end.row-1):"removeText"==c.action&&this.remove(d)}},this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b],d=e.fromPoints(c.range.start,c.range.end);"insertLines"==c.action?this._removeLines(d.start.row,d.end.row-1):"insertText"==c.action?this.remove(d):"removeLines"==c.action?this._insertLines(d.start.row,c.lines):"removeText"==c.action&&this.insert(d.start,c.text)}},this.indexToPosition=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=b||0,f=c.length;f>e;e++)if(a-=c[e].length+d,0>a)return{row:e,column:a+c[e].length+d};return{row:f-1,column:c[f-1].length}},this.positionToIndex=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=0,f=Math.min(a.row,c.length),g=b||0;f>g;++g)e+=c[g].length+d;return e+a.column}}).call(g.prototype),b.Document=g}),define("ace/lib/lang",["require","exports","module"],function(a,b){"use strict";b.last=function(a){return a[a.length-1]},b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){for(var c="";b>0;)1&b&&(c+=a),(b>>=1)&&(a+=a);return c};var c=/^\s\s*/,d=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(c,"")},b.stringTrimRight=function(a){return a.replace(d,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=a[c]&&"object"==typeof a[c]?this.copyObject(a[c]):a[c];return b},b.deepCopy=function(a){if("object"!=typeof a||!a)return a;var c=a.constructor;if(c===RegExp)return a;var d=c();for(var e in a)d[e]="object"==typeof a[e]?b.deepCopy(a[e]):a[e];return d},b.arrayToMap=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=1;return b},b.createMap=function(a){var b=Object.create(null);for(var c in a)b[c]=a[c];return b},b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++)b===a[c]&&a.splice(c,1)},b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},b.escapeHTML=function(a){return a.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},b.getMatchOffsets=function(a,b){var c=[];return a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredCall=function(a){var b=null,c=function(){b=null,a()},d=function(a){return d.cancel(),b=setTimeout(c,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(b),b=null,d},d.isPending=function(){return b},d},b.delayedCall=function(a,b){var c=null,d=function(){c=null,a()},e=function(a){null==c&&(c=setTimeout(d,a||b))};return e.delay=function(a){c&&clearTimeout(c),c=setTimeout(d,a||b)},e.schedule=e,e.call=function(){this.cancel(),a()},e.cancel=function(){c&&clearTimeout(c),c=null},e.isPending=function(){return c},e}}),define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(a,b){"use strict";var c=a("../document").Document,d=a("../lib/lang"),e=b.Mirror=function(a){this.sender=a;var b=this.doc=new c(""),e=this.deferredUpdate=d.delayedCall(this.onUpdate.bind(this)),f=this;a.on("change",function(a){return b.applyDeltas(a.data),f.$timeout?e.schedule(f.$timeout):void f.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(a){this.$timeout=a},this.setValue=function(a){this.doc.setValue(a),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(a){this.sender.callback(this.doc.getValue(),a)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(e.prototype)}),define("ace/mode/lua/luaparse",["require","exports","module"],function(a,b){!function(a,c,d){d(b)}(this,"luaparse",function(a){"use strict";function b(a){if(Ub){var b=Vb.pop();b.complete(),tb.locations&&(a.loc=b.loc),tb.ranges&&(a.range=b.range)}return a}function c(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]===c)return d;return-1}function d(a){var b=Pb.call(arguments,1);return a=a.replace(/%(\d)/g,function(a,c){return""+b[c-1]||""})}function e(){for(var a,b,c=Pb.call(arguments),d={},e=0,f=c.length;f>e;e++){a=c[e];for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b])}return d}function f(a){var b,c,e=d.apply(null,Pb.call(arguments,1));throw"undefined"!=typeof a.line?(c=a.range[0]-a.lineStart,b=new SyntaxError(d("[%1:%2] %3",a.line,c,e)),b.line=a.line,b.index=a.range[0],b.column=c):(c=Fb-Mb+1,b=new SyntaxError(d("[%1:%2] %3",Lb,c,e)),b.index=Fb,b.line=Lb,b.column=c),b}function g(a,b){f(b,Nb.expectedToken,a,b.value)}function h(a,b){if("undefined"==typeof b&&(b=Ib.value),"undefined"!=typeof a.type){var c;switch(a.type){case xb:c="string";break;case yb:c="keyword";break;case zb:c="identifier";break;case Ab:c="number";break;case Bb:c="symbol";break;case Cb:c="boolean";break;case Db:return f(a,Nb.unexpected,"symbol","nil",b)}return f(a,Nb.unexpected,c,a.value,b)}return f(a,Nb.unexpected,"symbol",a,b)}function i(){for(j();45===sb.charCodeAt(Fb)&&45===sb.charCodeAt(Fb+1);)t(),j();if(Fb>=ub)return{type:wb,value:"<eof>",line:Lb,lineStart:Mb,range:[Fb,Fb]};var a=sb.charCodeAt(Fb),b=sb.charCodeAt(Fb+1);if(Kb=Fb,C(a))return k();switch(a){case 39:case 34:return n();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p();case 46:return A(b)?p():46===b?46===sb.charCodeAt(Fb+2)?m():l(".."):l(".");case 61:return l(61===b?"==":"=");case 62:return l(61===b?">=":">");case 60:return l(61===b?"<=":"<");case 126:return 61===b?l("~="):f({},Nb.expected,"=","~");case 58:return l(58===b?"::":":");case 91:return 91===b||61===b?o():l("[");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return l(sb.charAt(Fb))}return h(sb.charAt(Fb))}function j(){for(;ub>Fb;){var a=sb.charCodeAt(Fb);if(y(a))Fb++;else{if(!z(a))break;Lb++,Mb=++Fb}}}function k(){for(var a,b;D(sb.charCodeAt(++Fb)););return a=sb.slice(Kb,Fb),E(a)?b=yb:"true"===a||"false"===a?(b=Cb,a="true"===a):"nil"===a?(b=Db,a=null):b=zb,{type:b,value:a,line:Lb,lineStart:Mb,range:[Kb,Fb]}}function l(a){return Fb+=a.length,{type:Bb,value:a,line:Lb,lineStart:Mb,range:[Kb,Fb]}}function m(){return Fb+=3,{type:Eb,value:"...",line:Lb,lineStart:Mb,range:[Kb,Fb]}}function n(){for(var a,b=sb.charCodeAt(Fb++),c=Fb,d="";ub>Fb&&(a=sb.charCodeAt(Fb++),b!==a);)92===a?(d+=sb.slice(c,Fb-1)+s(),c=Fb):(Fb>=ub||z(a))&&(d+=sb.slice(c,Fb-1),f({},Nb.unfinishedString,d+String.fromCharCode(a)));return d+=sb.slice(c,Fb-1),{type:xb,value:d,line:Lb,lineStart:Mb,range:[Kb,Fb]}}function o(){var a=u();return!1===a&&f(Gb,Nb.expected,"[",Gb.value),{type:xb,value:a,line:Lb,lineStart:Mb,range:[Kb,Fb]}}function p(){var a=sb.charAt(Fb),b=sb.charAt(Fb+1),c="0"===a&&"xX".indexOf(b||null)>=0?q():r();return{type:Ab,value:c,line:Lb,lineStart:Mb,range:[Kb,Fb]}}function q(){var a,b,c,d,e=0,g=1,h=1;for(d=Fb+=2,B(sb.charCodeAt(Fb))||f({},Nb.malformedNumber,sb.slice(Kb,Fb));B(sb.charCodeAt(Fb));)Fb++;if(a=parseInt(sb.slice(d,Fb),16),"."===sb.charAt(Fb)){for(b=++Fb;B(sb.charCodeAt(Fb));)Fb++;e=sb.slice(b,Fb),e=b===Fb?0:parseInt(e,16)/Math.pow(16,Fb-b)}if("pP".indexOf(sb.charAt(Fb)||null)>=0){for(Fb++,"+-".indexOf(sb.charAt(Fb)||null)>=0&&(h="+"===sb.charAt(Fb++)?1:-1),c=Fb,A(sb.charCodeAt(Fb))||f({},Nb.malformedNumber,sb.slice(Kb,Fb));A(sb.charCodeAt(Fb));)Fb++;g=sb.slice(c,Fb),g=Math.pow(2,g*h)}return(a+e)*g}function r(){for(;A(sb.charCodeAt(Fb));)Fb++;if("."===sb.charAt(Fb))for(Fb++;A(sb.charCodeAt(Fb));)Fb++;if("eE".indexOf(sb.charAt(Fb)||null)>=0)for(Fb++,"+-".indexOf(sb.charAt(Fb)||null)>=0&&Fb++,A(sb.charCodeAt(Fb))||f({},Nb.malformedNumber,sb.slice(Kb,Fb));A(sb.charCodeAt(Fb));)Fb++;return parseFloat(sb.slice(Kb,Fb))}function s(){var a=Fb;switch(sb.charAt(Fb)){case"n":return Fb++,"\n";case"r":return Fb++,"\r";case"t":return Fb++,"	";case"v":return Fb++,"";case"b":return Fb++,"\b";case"f":return Fb++,"\f";case"z":return Fb++,j(),"";case"x":return B(sb.charCodeAt(Fb+1))&&B(sb.charCodeAt(Fb+2))?(Fb+=3,"\\"+sb.slice(a,Fb)):"\\"+sb.charAt(Fb++);default:if(A(sb.charCodeAt(Fb))){for(;A(sb.charCodeAt(++Fb)););return"\\"+sb.slice(a,Fb)}return sb.charAt(Fb++)}}function t(){Kb=Fb,Fb+=2;var a=sb.charAt(Fb),b="",c=!1,d=Fb,e=Mb,f=Lb;if("["===a&&(b=u(),!1===b?b=a:c=!0),!c){for(;ub>Fb&&!z(sb.charCodeAt(Fb));)Fb++;tb.comments&&(b=sb.slice(d,Fb))}if(tb.comments){var g=Ob.comment(b,sb.slice(Kb,Fb));tb.locations&&(g.loc={start:{line:f,column:Kb-e},end:{line:Lb,column:Fb-Mb}}),tb.ranges&&(g.range=[Kb,Fb]),Jb.push(g)}}function u(){var a,b,c=0,d="",e=!1;for(Fb++;"="===sb.charAt(Fb+c);)c++;if("["!==sb.charAt(Fb+c))return!1;for(Fb+=c+1,z(sb.charCodeAt(Fb))&&(Lb++,Mb=Fb++),b=Fb;ub>Fb;){if(a=sb.charAt(Fb++),z(a.charCodeAt(0))&&(Lb++,Mb=Fb),"]"===a){e=!0;for(var f=0;c>f;f++)"="!==sb.charAt(Fb+f)&&(e=!1);"]"!==sb.charAt(Fb+c)&&(e=!1)}if(e)break}return d+=sb.slice(b,Fb-1),Fb+=c+1,d}function v(){Hb=Gb,Gb=Ib,Ib=i()}function w(a){return a===Gb.value?(v(),!0):!1}function x(a){a===Gb.value?v():f(Gb,Nb.expected,a,Gb.value)}function y(a){return 9===a||32===a||11===a||12===a}function z(a){return 10===a||13===a}function A(a){return a>=48&&57>=a}function B(a){return a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a}function C(a){return a>=65&&90>=a||a>=97&&122>=a||95===a}function D(a){return a>=65&&90>=a||a>=97&&122>=a||95===a||a>=48&&57>=a}function E(a){switch(a.length){case 2:return"do"===a||"if"===a||"in"===a||"or"===a;case 3:return"and"===a||"end"===a||"for"===a||"not"===a;case 4:return"else"===a||"goto"===a||"then"===a;case 5:return"break"===a||"local"===a||"until"===a||"while"===a;case 6:return"elseif"===a||"repeat"===a||"return"===a;case 8:return"function"===a}return!1}function F(a){return Bb===a.type?"#-".indexOf(a.value)>=0:yb===a.type?"not"===a.value:!1}function G(a){switch(a.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function H(a){if(wb===a.type)return!0;if(yb!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function I(){Rb.push(Array.apply(null,Rb[Sb++]))}function J(){Rb.pop(),Sb--}function K(a){-1===Qb(Rb[Sb],a)&&Rb[Sb].push(a)}function L(a){K(a.name),M(a,!0)}function M(a,b){b||-1!==c(Tb,"name",a.name)||Tb.push(a),a.isLocal=b}function N(a){return-1!==Qb(Rb[Sb],a)}function O(){return new P(Gb)}function P(a){tb.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),tb.ranges&&(this.range=[a.range[0],0])}function Q(){Ub&&Vb.push(O())}function R(a){Ub&&Vb.push(a)}function S(){v(),Q();var a=T();return wb!==Gb.type&&h(Gb),Ub&&!a.length&&(Hb=Gb),b(Ob.chunk(a))}function T(){var a,b=[];for(tb.scope&&I();!H(Gb);){if("return"===Gb.value){b.push(U());break}a=U(),a&&b.push(a)}return tb.scope&&J(),b}function U(){if(Q(),yb===Gb.type)switch(Gb.value){case"local":return v(),cb();case"if":return v(),ab();case"return":return v(),_();case"function":v();var a=gb();return fb(a);case"while":return v(),Z();case"for":return v(),bb();case"repeat":return v(),$();case"break":return v(),W();case"do":return v(),Y();case"goto":return v(),X()}return Bb===Gb.type&&w("::")?V():(Ub&&Vb.pop(),w(";")?void 0:db())}function V(){var a=Gb.value,c=eb();return tb.scope&&(K("::"+a+"::"),M(c,!0)),x("::"),b(Ob.labelStatement(c))}function W(){return b(Ob.breakStatement())}function X(){var a=Gb.value,c=eb();return tb.scope&&(c.isLabel=N("::"+a+"::")),b(Ob.gotoStatement(c))}function Y(){var a=T();return x("end"),b(Ob.doStatement(a))}function Z(){var a=jb();x("do");var c=T();return x("end"),b(Ob.whileStatement(a,c))}function $(){var a=T();x("until");var c=jb();return b(Ob.repeatStatement(c,a))}function _(){var a=[];if("end"!==Gb.value){var c=ib();for(null!=c&&a.push(c);w(",");)c=jb(),a.push(c);w(";")}return b(Ob.returnStatement(a))}function ab(){var a,c,d,e=[];for(Ub&&(d=Vb[Vb.length-1],Vb.push(d)),a=jb(),x("then"),c=T(),e.push(b(Ob.ifClause(a,c))),Ub&&(d=O());w("elseif");)R(d),a=jb(),x("then"),c=T(),e.push(b(Ob.elseifClause(a,c))),Ub&&(d=O());return w("else")&&(Ub&&(d=new P(Hb),Vb.push(d)),c=T(),e.push(b(Ob.elseClause(c)))),x("end"),b(Ob.ifStatement(e))}function bb(){var a,c=eb();if(tb.scope&&L(c),w("=")){var d=jb();x(",");var e=jb(),f=w(",")?jb():null;return x("do"),a=T(),x("end"),b(Ob.forNumericStatement(c,d,e,f,a))}for(var g=[c];w(",");)c=eb(),tb.scope&&L(c),g.push(c);x("in");var h=[];do{var i=jb();h.push(i)}while(w(","));return x("do"),a=T(),x("end"),b(Ob.forGenericStatement(g,h,a))}function cb(){var a;if(zb===Gb.type){var c=[],d=[];do a=eb(),c.push(a);while(w(","));if(w("="))do{var e=jb();d.push(e)}while(w(","));if(tb.scope)for(var f=0,h=c.length;h>f;f++)L(c[f]);return b(Ob.localStatement(c,d))}return w("function")?(a=eb(),tb.scope&&L(a),fb(a,!0)):void g("<name>",Gb)}function db(){var a,c,d=Gb;if(Ub&&(c=O()),a=mb(),null==a)return h(Gb);if(",=".indexOf(Gb.value)>=0){for(var e,f=[a],i=[];w(",");)e=mb(),null==e&&g("<expression>",Gb),f.push(e);x("=");do e=jb(),i.push(e);while(w(","));return R(c),b(Ob.assignmentStatement(f,i))}return G(a)?(R(c),b(Ob.callStatement(a))):h(d)}function eb(){Q();var a=Gb.value;return zb!==Gb.type&&g("<name>",Gb),v(),b(Ob.identifier(a))}function fb(a,c){var d=[];if(x("("),!w(")"))for(;;)if(zb===Gb.type){var e=eb();if(tb.scope&&L(e),d.push(e),w(","))continue;if(w(")"))break}else{if(Eb===Gb.type){d.push(ob()),x(")");break}g("<name> or '...'",Gb)}var f=T();return x("end"),c=c||!1,b(Ob.functionStatement(a,d,c,f))}function gb(){var a,c,d;for(Ub&&(d=O()),a=eb(),tb.scope&&M(a,!1);w(".");)R(d),c=eb(),tb.scope&&M(c,!1),a=b(Ob.memberExpression(a,".",c));return w(":")&&(R(d),c=eb(),tb.scope&&M(c,!1),a=b(Ob.memberExpression(a,":",c))),a}function hb(){for(var a,c,d=[];;){if(Q(),Bb===Gb.type&&w("["))a=jb(),x("]"),x("="),c=jb(),d.push(b(Ob.tableKey(a,c)));else if(zb===Gb.type)a=jb(),w("=")?(c=jb(),d.push(b(Ob.tableKeyString(a,c)))):d.push(b(Ob.tableValue(a)));else{if(null==(c=ib())){Vb.pop();break}d.push(b(Ob.tableValue(c)))}if(",;".indexOf(Gb.value)>=0)v();else if("}"===Gb.value)break}return x("}"),b(Ob.tableConstructorExpression(d))}function ib(){var a=lb(0);return a}function jb(){var a=ib();return null!=a?a:void g("<expression>",Gb)}function kb(a){var b=a.charCodeAt(0),c=a.length;if(1===c)switch(b){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3}else if(2===c)switch(b){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(97===b&&"and"===a)return 2;return 0}function lb(a){var c,d,e=Gb.value;if(Ub&&(d=O()),F(Gb)){Q(),v();var f=lb(8);null==f&&g("<expression>",Gb),c=b(Ob.unaryExpression(e,f))}if(null==c&&(c=ob(),null==c&&(c=mb())),null==c)return null;for(var h;;){if(e=Gb.value,h=Bb===Gb.type||yb===Gb.type?kb(e):0,0===h||a>=h)break;("^"===e||".."===e)&&h--,v();var i=lb(h);null==i&&g("<expression>",Gb),Ub&&Vb.push(d),c=b(Ob.binaryExpression(e,c,i))}return c}function mb(){var a,c,d,e;if(Ub&&(d=O()),zb===Gb.type)c=Gb.value,a=eb(),tb.scope&&M(a,e=N(c));else{if(!w("("))return null;a=jb(),x(")"),tb.scope&&(e=a.isLocal)}for(var f,g;;)if(Bb===Gb.type)switch(Gb.value){case"[":R(d),v(),f=jb(),a=b(Ob.indexExpression(a,f)),x("]");break;case".":R(d),v(),g=eb(),tb.scope&&M(g,e),a=b(Ob.memberExpression(a,".",g));break;case":":R(d),v(),g=eb(),tb.scope&&M(g,e),a=b(Ob.memberExpression(a,":",g)),R(d),a=nb(a);break;case"(":case"{":R(d),a=nb(a);break;default:return a}else{if(xb!==Gb.type)break;R(d),a=nb(a)}return a}function nb(a){if(Bb===Gb.type)switch(Gb.value){case"(":v();var c=[],d=ib();for(null!=d&&c.push(d);w(",");)d=jb(),c.push(d);return x(")"),b(Ob.callExpression(a,c));case"{":Q(),v();var e=hb();return b(Ob.tableCallExpression(a,e))}else if(xb===Gb.type)return b(Ob.stringCallExpression(a,ob()));g("function arguments",Gb)}function ob(){var a,c=xb|Ab|Cb|Db|Eb,d=Gb.value,e=Gb.type;if(Ub&&(a=O()),e&c){R(a);var f=sb.slice(Gb.range[0],Gb.range[1]);return v(),b(Ob.literal(e,d,f))}return yb===e&&"function"===d?(R(a),v(),fb(null)):w("{")?(R(a),hb()):void 0}function pb(b,c){return"undefined"==typeof c&&"object"==typeof b&&(c=b,b=void 0),c||(c={}),sb=b||"",tb=e(vb,c),Fb=0,Lb=1,Mb=0,ub=sb.length,Rb=[[]],Sb=0,Tb=[],Vb=[],tb.comments&&(Jb=[]),tb.wait?a:rb()}function qb(b){return sb+=String(b),ub=sb.length,a}function rb(a){"undefined"!=typeof a&&qb(a),ub=sb.length,Ub=tb.locations||tb.ranges,Ib=i();var b=S();if(tb.comments&&(b.comments=Jb),tb.scope&&(b.globals=Tb),Vb.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");
return b}a.version="0.1.4";var sb,tb,ub,vb=a.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1},wb=1,xb=2,yb=4,zb=8,Ab=16,Bb=32,Cb=64,Db=128,Eb=256;a.tokenTypes={EOF:wb,StringLiteral:xb,Keyword:yb,Identifier:zb,NumericLiteral:Ab,Punctuator:Bb,BooleanLiteral:Cb,NilLiteral:Db,VarargLiteral:Eb};var Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb=a.errors={unexpected:"Unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'"},Ob=a.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,b){return{type:"IfClause",condition:a,body:b}},elseifClause:function(a,b){return{type:"ElseifClause",condition:a,body:b}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,b){return{type:"WhileStatement",condition:a,body:b}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,b){return{type:"RepeatStatement",condition:a,body:b}},localStatement:function(a,b){return{type:"LocalStatement",variables:a,init:b}},assignmentStatement:function(a,b){return{type:"AssignmentStatement",variables:a,init:b}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,b,c,d){return{type:"FunctionDeclaration",identifier:a,isLocal:c,parameters:b,body:d}},forNumericStatement:function(a,b,c,d,e){return{type:"ForNumericStatement",variable:a,start:b,end:c,step:d,body:e}},forGenericStatement:function(a,b,c){return{type:"ForGenericStatement",variables:a,iterators:b,body:c}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,b,c){return a=a===xb?"StringLiteral":a===Ab?"NumericLiteral":a===Cb?"BooleanLiteral":a===Db?"NilLiteral":"VarargLiteral",{type:a,value:b,raw:c}},tableKey:function(a,b){return{type:"TableKey",key:a,value:b}},tableKeyString:function(a,b){return{type:"TableKeyString",key:a,value:b}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,b,c){var d="and"===a||"or"===a?"LogicalExpression":"BinaryExpression";return{type:d,operator:a,left:b,right:c}},unaryExpression:function(a,b){return{type:"UnaryExpression",operator:a,argument:b}},memberExpression:function(a,b,c){return{type:"MemberExpression",indexer:b,identifier:c,base:a}},indexExpression:function(a,b){return{type:"IndexExpression",base:a,index:b}},callExpression:function(a,b){return{type:"CallExpression",base:a,arguments:b}},tableCallExpression:function(a,b){return{type:"TableCallExpression",base:a,arguments:b}},stringCallExpression:function(a,b){return{type:"StringCallExpression",base:a,argument:b}},comment:function(a,b){return{type:"Comment",value:a,raw:b}}},Pb=Array.prototype.slice,Qb=(Object.prototype.toString,function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1});a.lex=i;var Rb,Sb,Tb,Ub,Vb=[];P.prototype.complete=function(){tb.locations&&(this.loc.end.line=Hb.line,this.loc.end.column=Hb.range[1]-Hb.lineStart),tb.ranges&&(this.range[1]=Hb.range[1])},a.parse=pb,a.write=qb,a.end=rb})}),define("ace/mode/lua_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/lua/luaparse"],function(a,b){"use strict";var c=a("../lib/oop"),d=a("../worker/mirror").Mirror,e=a("../mode/lua/luaparse"),f=b.Worker=function(a){d.call(this,a),this.setTimeout(500)};c.inherits(f,d),function(){this.onUpdate=function(){var a=this.doc.getValue();try{e.parse(a)}catch(b){return void(b instanceof SyntaxError&&this.sender.emit("error",{row:b.line-1,column:b.column,text:b.message,type:"error"}))}this.sender.emit("ok")}}.call(f.prototype)}),define("ace/lib/es5-shim",["require","exports","module"],function(){function a(){}function b(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}function c(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError("Function.prototype.bind called on incompatible "+c);var d=l.call(arguments,1),e=function(){if(this instanceof e){var a=c.apply(this,d.concat(l.call(arguments)));return Object(a)===a?a:this}return c.apply(b,d.concat(l.call(arguments)))};return c.prototype&&(a.prototype=c.prototype,e.prototype=new a,a.prototype=null),e});var d,e,f,g,h,i=Function.prototype.call,j=Array.prototype,k=Object.prototype,l=j.slice,m=i.bind(k.toString),n=i.bind(k.hasOwnProperty);if((h=n(k,"__defineGetter__"))&&(d=i.bind(k.__defineGetter__),e=i.bind(k.__defineSetter__),f=i.bind(k.__lookupGetter__),g=i.bind(k.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function a(a){var b=new Array(a+2);return b[0]=b[1]=0,b}var b,c=[];return c.splice.apply(c,a(20)),c.splice.apply(c,a(26)),b=c.length,c.splice(5,0,"XXX"),b+1==c.length,b+1==c.length?!0:void 0}()){var o=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?o.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(l.call(arguments,2))):[]}}else Array.prototype.splice=function(a,b){var c=this.length;a>0?a>c&&(a=c):void 0==a?a=0:0>a&&(a=Math.max(c+a,0)),c>a+b||(b=c-a);var d=this.slice(a,a+b),e=l.call(arguments,2),f=e.length;if(a===c)f&&this.push.apply(this,e);else{var g=Math.min(b,c-a),h=a+g,i=h+f-g,j=c-h,k=c-g;if(h>i)for(var m=0;j>m;++m)this[i+m]=this[h+m];else if(i>h)for(m=j;m--;)this[i+m]=this[h+m];if(f&&a===k)this.length=k,this.push.apply(this,e);else for(this.length=k+f,m=0;f>m;++m)this[a+m]=e[m]}return d};Array.isArray||(Array.isArray=function(a){return"[object Array]"==m(a)});var p=Object("a"),q="a"!=p[0]||!(0 in p);if(Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if("[object Function]"!=m(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}),Array.prototype.map||(Array.prototype.map=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}),Array.prototype.filter||(Array.prototype.filter=function(a){var b,c=H(this),d=q&&"[object String]"==m(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}),Array.prototype.every||(Array.prototype.every=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=H(this),c=q&&"[object String]"==m(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=m(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}do f in this&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var b=q&&"[object String]"==m(this)?this.split(""):H(this),d=b.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=c(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var b=q&&"[object String]"==m(this)?this.split(""):H(this),d=b.length>>>0;if(!d)return-1;var e=d-1;for(arguments.length>1&&(e=Math.min(e,c(arguments[1]))),e=e>=0?e:d-Math.abs(e);e>=0;e--)if(e in b&&a===b[e])return e;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:k)}),!Object.getOwnPropertyDescriptor){var r="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(r+a);if(n(a,b)){var c,d,e;if(c={enumerable:!0,configurable:!0},h){var i=a.__proto__;a.__proto__=k;var d=f(a,b),e=g(a,b);if(a.__proto__=i,d||e)return d&&(c.get=d),e&&(c.set=e),c}return c.value=a[b],c}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var s;s=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var a={};for(var b in a)a[b]=null;return a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null,a},Object.create=function(a,b){var c;if(null===a)c=s();else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return void 0!==b&&Object.defineProperties(c,b),c}}if(Object.defineProperty){var t=b({}),u="undefined"==typeof document||b(document.createElement("div"));if(!t||!u)var v=Object.defineProperty}if(!Object.defineProperty||v){var w="Property description must be an object: ",x="Object.defineProperty called on non-object: ",y="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,c){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(x+a);if("object"!=typeof c&&"function"!=typeof c||null===c)throw new TypeError(w+c);if(v)try{return v.call(Object,a,b,c)}catch(i){}if(n(c,"value"))if(h&&(f(a,b)||g(a,b))){var j=a.__proto__;a.__proto__=k,delete a[b],a[b]=c.value,a.__proto__=j}else a[b]=c.value;else{if(!h)throw new TypeError(y);n(c,"get")&&d(a,b,c.get),n(c,"set")&&e(a,b,c.set)}return a}}Object.defineProperties||(Object.defineProperties=function(a,b){for(var c in b)n(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(z){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var b="";n(a,b);)b+="?";a[b]=!0;var c=n(a,b);return delete a[b],c}),!Object.keys){var A=!0,B=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],C=B.length;for(var D in{toString:null})A=!1;Object.keys=function I(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var I=[];for(var b in a)n(a,b)&&I.push(b);if(A)for(var c=0,d=C;d>c;c++){var e=B[c];n(a,e)&&I.push(e)}return I}}Date.now||(Date.now=function(){return(new Date).getTime()});var E="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||E.trim()){E="["+E+"]";var F=new RegExp("^"+E+E+"*"),G=new RegExp(E+E+"*$");String.prototype.trim=function(){return String(this).replace(F,"").replace(G,"")}}var H=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}});